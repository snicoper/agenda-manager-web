<am-page-simple>
  <section class="login-container">
    <form (ngSubmit)="handleSubmit()" [formGroup]="formLogin.form" class="form">
      <mat-card class="mat-elevation-z10 p-4">
        <mat-card-header>
          <mat-card-title class="title">
            <h2>Iniciar sesión</h2>
          </mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <am-non-field-errors [badRequest]="formLogin.state().badRequest" />

          <!-- email -->
          <am-form-input
            fieldName="email"
            formControlName="email"
            [formState]="formLogin.state()"
            [formInputType]="formInputType.Email"
            [label]="formLogin.getFieldConfig('email')?.label"
            [icon]="formLogin.getFieldConfig('email')?.icon"
          />

          <!-- password -->
          <am-form-input
            fieldName="password"
            formControlName="password"
            [formState]="formLogin.state()"
            [formInputType]="formInputType.Password"
            [label]="formLogin.getFieldConfig('password')?.label"
            [icon]="formLogin.getFieldConfig('password')?.icon"
          />

          <mat-divider />
        </mat-card-content>

        <mat-card-footer class="mt-4 ms-2">
          <am-btn-loading
            btnText="Iniciar sesión"
            [loading]="formLogin.state().isLoading"
            [disabled]="!formLogin.isValid()"
          />
          <button mat-flat-button class="ms-2" type="button" [routerLink]="[siteUrls.accounts.requestPasswordReset]">
            ¿Olvidaste contraseña?
          </button>
        </mat-card-footer>
      </mat-card>
    </form>
  </section>
</am-page-simple>
